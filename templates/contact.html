{% extends "base_generic.html" %}
{% block head %}
	<title>Contact Form</title>
{% endblock %}
{% block style %}
{% endblock %}
{% block content %}
<div class="container">
   <div class="row justify-content-center align-items-center">
      <div class="col-sm-6 ">
      	<form id = "contactForm" method= "POST">{% csrf_token %}
      		{{ contactForm.as_p }}
			<button type="submit" name="contact-submit" class="btn btn-primary">Submit</button>
      	</form>
      </div>
   </div>
</div>
{% endblock %}
{% block script %}
<script type="text/javascript">
$(document).ready(function(){
   $("#contactForm").submit(function(e){
	// prevent from normal form behaviour

      	e.preventDefault();
    	// serialize the form data  

      	var serializedData = $(this).serialize();
      	$.ajax({
      		type : 'POST',
      		url :  "{% url 'contact-submit' %}",
      		data : serializedData,
      		success : function(response){
			//reset the form after successful submit

      			$("#contactForm")[0].reset(); 
      		},
      		error : function(response){
      			console.log(response)
      		}
      	});
   });
});
</script>
{% endblock %}