  {
    "title": "Объект",
    "type": "object",
    "required": [
      "name",
      "object_type",
      "customer",
      "description",
      "location",
      "equipments",
      "mechanisms"
    ],
    "properties": {
      "name": {
        "type": "string",
        "title": "Название объекта",
        "description": "Как назвать?",
        "minLength": 4,
        "default": "Элеватор"
      },
      "object_type": {
        "type": "string",
        "title": "Тип объекта",
        "enum": [
          "Элеватор",
          "МЭЗ",
          "other"
        ],
        "default": "Элеватор"
      },
      "customer": {
        "type": "string",
        "title": "Заказчик",
        "enum": [
          "АгроСоюз",
          "Kernel",
          "other"
        ]
      },
      "description": {
        "type": "string",
        "title": "Примечание",
        "format": "textarea"
      },
      "location": {
        "type": "object",
        "title": "Расположение",
        "properties": {
          "city": {
            "type": "string",
            "title": "Город/село",
            "options": {
              "grid_columns": 3
            },
            "default": "Волочийск"
          },
          "state": {
            "type": "string",
            "title": "Область",
            "enum": [
              "Хмельницкая обл.",
              "Харьковская обл.",
              "other"
            ],
            "options": {
              "grid_columns": 3
            },
            "default": "Хмельницкая обл."
          },
          "citystate": {
            "type": "string",
            "title": "Адрес",
            "description": "автоматически генерируется из двух",
            "template": "{{city}}, {{state}}",
            "watch": {
              "city": "location.city",
              "state": "location.state"
            }
          }
        }
      },
      "equipments": {
        "type": "object",
        "title": "Требования",
        "properties": {
          "provider": {
            "type": "string",
            "title": "Производитель",
            "options": {
              "grid_columns": 2
            },
            "enum": [
              "Schneider Electric",
              "Siemens",
              "other"
            ],
            "default": "Schneider Electric"
          },
          "rack": {
            "type": "string",
            "title": "Конструктив",
            "options": {
              "grid_columns": 2
            },
            "enum": [
              "Контур",
              "Rittal",
              "other"
            ],
            "default": "Контур"
          },
          "bus": {
            "type": "string",
            "title": "Шина",
            "options": {
              "grid_columns": 2
            },
            "enum": [
              "Медь",
              "Алюминий",
              "other"
            ],
            "default": "Медь"
          }
        }
      },
      "mechanisms": {
        "type": "array",
        "format": "tabs",
        "title": "Механизмы",
        "items": {
          "type": "object",
          "title": "Механизм",
          "required": [
            "type",
            "work",
            "power",
            "number"
          ],
          "properties": {
            "type": {
              "type": "string",
              "title": "Тип механизма",
              "options": {
                "grid_columns": 3
              },
              "enum": [
                "Нория",
                "Транспортер",
                "Клапан",
                "Задвижка",
                "other"
              ],
              "default": "Нория"
            },
            "name": {
              "type": "string",
              "title": "Название",
              "options": {
                "grid_columns": 2
              }
            },
            "work": {
              "type": "string",
              "title": "Тип пуска",
              "enum": [
                "Прямой",
                "ПП",
                "ПЧ",
                "Каскад",
                "Реверс",
                "other"
              ],
              "default": "Прямой"
            },
            "power": {
              "type": "number",
              "title": "Pн",
              "options": {
                "grid_columns": 2
              },
              "default": 15
            },
            "number": {
              "type": "number",
              "title": "Шт.",
              "options": {
                "grid_columns": 1
              },
              "default": 1
            },
            "di": {
              "type": "number",
              "title": "DI",
              "options": {
                "grid_columns": 1
              },
              "default": 6
            },
            "do": {
              "type": "number",
              "title": "DO",
              "options": {
                "grid_columns": 1
              },
              "default": 1
            },
            "ai": {
              "type": "number",
              "title": "AI",
              "options": {
                "grid_columns": 1
              },
              "default": 0
            },
            "ao": {
              "type": "number",
              "title": "AO",
              "options": {
                "grid_columns": 1
              },
              "default": 0
            },
            "interface": {
              "type": "string",
              "title": "Интерфейс",
              "enum": [
                "Modbus/RS-485",
                "Modbus/TCP-IP",
                "Profinet",
                "Profibus",
                "other"
              ],
              "default": "Modbus/RS-485"
            }
          }
        },
        "default": [
          {
            "type": "Нория",
            "work": "Прямой",
            "power": 15,
            "number": 1,
            "di": 6,
            "do": 1,
            "ai": 0,
            "ao": 0,
            "interface": "Modbus/RS-485"
          }
        ]
      }
    }
  }

